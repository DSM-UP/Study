# Node js 교과서 정리



## 1) 노드 시작하기

### 1.1 핵심 개념 이해하기

#### 1.1.1 서버

* 네트워크를 통해 클라이언트에 정보나 서비스를 제공하는 컴퓨터 또는 프로그램



#### 1.1.2 JS 런타임

* 노드는 JS 런타임이다.
* 런타임은 특정 언어로 만든 프록램들을 실행할 수 있는 환경을 뜻한다.



#### 1.1.3 이벤트 기반

* 이벤트가 발생할 때 미리 지정한 작업을 수행하는 방식을 의미함.
* 특정 이벤트가 발생할 때 무엇을 할지 미리 등록해야 함.
* 노드는 미리 이벤트 리스너에 콜백 함수를 등록한 후, 이벤트가 발생하면 등록된 콜백 함수를 호출함.
* 이벤트 루프 
  * 이벤트 발생 시 호출할 콜백 함수들을 관리하고, 호출된 콜백 함수의 실행 순서를 결정함. 
  * 종료시까지 반복하여 루프라고 불림.
* 태스크 큐 
  * 이벤트 발생 후 호출되어야 할 콜백 함수들이 기다리는 공간.
  * 콜백들이 이벤트 루프가 정한 순서대로 있으므로 콜백 큐라고도 불림.
* 백그라운드
  * 타이머나 I/O 작업 콜백 또는 이벤트 리스너들이 대기하는 곳.



#### 1.1.4 논블로킹 I/O

* 논블로킹 방식
  * 오래걸리는 함수를 백그라운드로 보내, 다음 코드가 먼저 실행되게 하고, 그 함수가 다시 태스크 큐를 거쳐 호출 스택으로 올라오기를 기다리는 방식.
  * 이전 작업이 완료될 때까지 멈추지 않고 다음 작업을 수행함을 뜻함.



#### 1.1.5 싱글 스레드

* 노드는 싱글 스레드이다.
* 프로세스
  * 운영체제에서 할당하는 작업의 단위.
* 스레드 
  * 프로세스 내에서 실행되는 흐름의 단위. 
  * 하나의 프로세스는 여러 스레드를 가질 수 있음.
  * 스레드는 부모 프로세스의 자원을 공유함.
* 싱글 스레드
  * 주어진 작업을 스레드 혼자서 처리해야 함.
* 싱글 스레드, 논블로킹 모델을 노드에서 채택하고 있음.





### 1.2 서버로서의 노드

* 노드는 I/O가 많은 작업에 적합함.
* I/O 작업을 논블로킹으로 처리하므로 싱글 스레드로도 할 수 있음.
* 그러나 CPU 부하가 크다면, 블로킹이 발생해 싱글 스레드로는 감당하기 힘들 수 있음.



|                       장점                        |                     단점                     |
| :-----------------------------------------------: | :------------------------------------------: |
| 멀티 스레드 방식에 비해 컴퓨터 자원을 적게 사용함 |   싱글 스레드라서 CPU 코어를 하나만 사용함   |
|            I/O 작업이 많은 서버로 적함            |       CPU 작업이 많은 서버로는 부적합        |
|             멀티 스레드 방식보다 쉬움             | 하나뿐인 스레드가 멈추지 않도록 관리해야 함  |
|              웹 서버가 내장되어 있음              | 서버 규모가 커졌을 때 서버를 관리하기 어려움 |
|                    JS를 사용함                    |                어중간한 성능                 |
|             JSON 형식과 호환하기 쉬움             |                                              |



### 1.3 서버 외의 노드

* 처음에는 서버로 사용했지만, 서버에 한정된 용도는 아니므로 여러 범위에서 사용됨.
* 웹 프레임워크, 모바일, 데스크톱 애플리케이션 등에서 사용됨.



### 1.4 개발 환경 설정



<hr/>



## 2) 알아두어야 할 자바스크립트

### 2.1 ES2015+

* 2015년에 나온 JS 문법 (ES6라고도 함).



#### 2.1.1 const, let

* const 
  * const는 함수 스코프 대신 블록 스코프를 사용함.
  * 재선언, 재할당 불가능.
* let
  * let은 함수 스코프 대신 블록 스코프를 사용함.
  * 재선언 가능, 재할당 불가능.



#### 2.1.2 템플릿 문자열

* \` 을 감싸는 문자열을 사용할 수 있음.
* ` ${변수} ` 형태로 변수를 문자열에 추가할 수 있음.



#### 2.1.3 객체 리터럴

* 객체의 속성명을 동적으로 생성할 수 있음.
* 속성명과 변수명이 겹치면, 한 번만 써도 가능함.



#### 2.1.4 화살표 함수

* function 선언 대신 => 기호로 함수를 선언함.
* 화살표 함수는 상위 스코프의 this를 그대로 상속받음.
* 기본적으로는 화살표 함수, this를 사용할 경우 선택하여 사용하면 됨.



#### 2.1.5 비구조화 할당

* 객체와 배열로부터 속성이나 요소를 꺼내는 기능



#### 2.1.6 프로미스

* 비동기를 처리할 때 유용한 함수



#### 2.1.7 async/await

* 비동기를 사용할 때 유용한 함수.



### 2.2 프론트엔드 자바스크립트

#### 2.2.1 AJAX

* 비동기적 웹 개발을 위한 기법.



#### 2.2.2 FormData

* form 태그의 데이터를 동적으로 제어할 수 있는 기능.



#### 2.2.3 encodeURLComponent, decodeURLComponent

* 서버가 한글 주소를 이해하지 못하는 경우, 인코딩과 디코딩을 해 주는 기능.



#### 2.2.4 data attribute와 dataset

* JS로 쉽게 접근 가능한 속성들.



<hr/>



## 3) 노드 기능 알아보기

### 3.1 REPL 사용하기

* JS는 스크립트 언어이므로 컴파일을 하지 않아도 실행이 가능함.
* 노드에서 제공하는 콘솔은 코드를 읽고(Read), 해석하고(Eval), 반환하고(Print), 반복(Loop)한다고 해서 REPL이라고 부른다.



### 3.2 JS 파일 실행하기

* REPL에서 JS 파일을 실행시키려면 `node JS파일경로`로 실행함.
* 이때, 확장자는 생략해도 됨.



### 3.3 모듈로 만들기

* 노드는 일정 코드를 모듈로 만들 수 있음.
* 모듈 : 특정 기능을 수행하는 변수나 함수의 집합.
* `module.exports`를 이용하여 모듈을 만듦.
* `require`를 이용하여 모듈을 불러옴.



### 3.4 노드 내장 객체 알아보기

#### 3.4.1 global

* window와 같은 전역 객체.
* 모든 파일에서 접근할 수 있음.



#### 3.4.2 console

* console 객체는 디버깅을 위해 사용함.



#### 3.4.3 타이머

* 타이머 기능을 제공함.



#### 3.4.4 __filename, \_\_dirname

* 파일의 경로와, 파일이름을 제공함.



#### 3.4.5 module, exports

* 모듈을 만들 때 사용함.



#### 3.4.6 process

* 현재 실행되는 노드 프로세스에 대한 정보를 담고 있음.



### 3.5 노드 내장 모듈 사용하기

#### 3.5.1 OS

* 운영체제의 정보를 가져올 수 있음.



#### 3.5.2 path

* 폴더와 파일의 경로를 조작하도록 도와주는 모듈.



#### 3.5.3 url

* 인터넷 주소를 쉽게 조작하도록 도와주는 모듈.



#### 3.5.4 querystring

* search 부분을 사용하기 쉽게 객체로 만드는 모듈.



#### 3.5.5 crypto

* 암호화를 도와주는 모듈



#### 3.5.6 util

* 각종 편의 기능을 모아둔 모듈



### 3.6 파일 시스템 접근하기

* fs 모듈 : 파일 시스템에 접근하는 모듈